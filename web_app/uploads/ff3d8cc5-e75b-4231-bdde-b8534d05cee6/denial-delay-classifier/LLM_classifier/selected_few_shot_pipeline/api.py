from openai import OpenAI
import ast
import os

class APIClient():
    def __init__(self):
        self.default_model = "gpt-3.5-turbo"
        self.temperature = 0
        self.max_tokens = 1500

    def run_pipeline(self, statement):

        # Gather initial subclaims to test
        subclaim_list = ast.literal_eval(self.get_initial_classifications(statement))

        # Check each subclaim
        valid_subclaims = []
        for subclaim in subclaim_list:
            if self.test_specific_subclaim(statement, subclaim) == "true":
                valid_subclaims.append(subclaim)

        # Flatten subclaims to binary classification
        denial_subclaims = [1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 2.1, 2.2, 2.3, 2.4, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 5.1, 5.2]
        delay_subclaims = [4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 5.3]

        if any(subclaim in valid_subclaims for subclaim in denial_subclaims):
            result = 2.0
        elif any(subclaim in valid_subclaims for subclaim in delay_subclaims):
            result = 1.0
        else:
            result = 0.0

        return result

    def get_initial_classifications(self, statement):
        client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))
        subclaim_list = []
        
        messages = [{"role": "system", "content": [{"text": "Taxonomy: ```\nCategory: Global warming is not happening\n1.1 - Ice isn’t melting\n--Antarctica isn’t melting\n--Greenland isn’t melting\n--Arctic isn’t melting\n--Glaciers aren’t vanishing\n1.2 - Heading into ice age\n1.3 - Weather is cold\n1.4 - Hiatus in warming\n1.5 - Oceans are cooling\n1.6 - Sea level rise exaggerated\n1.7 - Extremes not increasing\n1.8 - Changed the name\n\nCategory: Human Greenhouse Gases are not causing global warming\n2.1 - It’s natural cycles\n--It’s the sun\n--It’s geological\n--It’s the ocean\n--Past climate change\n--Negligible CO₂ emissions\n2.2 No evidence for Greenhouse Effect\n--CO₂ is a trace gas\n--Greenhouse Effect is saturated\n--CO₂ lags climate\n--Water vapour\n--Tropospheric hot spot\n--CO₂ was higher in the past\n--Non-Greenhouse Gas forcings\n2.3 - CO₂ not rising\n2.4 - Emissions not raising CO₂ levels\n\nCategory: Climate impacts are not bad\n3.1 - Sensitivity is low\n3.2 - No species impact\n--Species can adapt\n--Polar bears are ok\n--Oceans are ok\n3.3 - CO₂ is not a pollutant\n--CO₂ is plant food\n3.4 - Only a few degrees\n3.5 - No link to conflict\n3.6 - Only positive health impacts\n3.7 - Only positive economic impacts\n\nCategory: Climate solutions won’t work / aren’t needed\n4.1 - Climate policies are harmful\n--Policy increases costs\n--Policy weakens security\n--Policy harms environment\n--Policy creates uncertainty\n--Policy limits freedom\n4.2 - Climate policies are ineffective\n--Green economy won’t work\n--Policy impact is negligible\n--One country is negligible\n--Other countries’ emissions\n--Existing policies don’t work\n--Policy can be manipulated\n4.3 Mitigation policies are unnecessarily secondary\n--Markets more efficient\n--Individuals are responsible\n--Future generations will fix it\n--Technology will fix it\n--Other issues are more pressing\n--Cheaper to mitigate abroad\n4.4 Climate policy is too difficult\n--We’re not ready for policy\n--It’s too hard to solve\n--It’s too late to fix it\n--Low public & media support\n4.5 Climate-friendly alternatives won’t work\n--Alternatives are harmful\n--Alternatives are ineffective\n4.6 We need fossil fuels\n--Fossil fuel reserves are plentiful\n--Fossil fuels are good\n--Fossil fuels are necessary\n--We have the right to use them\n4.7 No need for more action\n--Already taking it seriously\n--Already doing enough\n--Already doing good\n\nCategory: Climate movement/science is unreliable\n5.1 Science is unreliable\n--No consensus\n--Data/proxies are unreliable\n--Temperature is unreliable\n--Models are unreliable\n5.2 Movement is unreliable\n--Climate is religion\n--Media is alarmist\n--Politicians are biased\n--Environmentalists are biased\n--Scientists are biased\n5.3 Climate change is conspiracy\n--Climate policy is conspiracy\n--Climate science is conspiracy```\n\n---\n\nYou are a labeler in charge of identifying discourses of climate change denial and delay of climate action. You are conducting a first sweep of a given statement, identifying any of the taxonomy that could possibly apply to the statement. You should assign liberally. Respond with a list of the taxonomy values.", "type": "text"}]},
                    {"role": "user", "content": [{"text": "Now, I am very interested in the AMO, since it strongly influences Atlantic hurricanes, Arctic sea ice, and Greenland climate. We are already seeing a recovery of the Atlantic sector of the Arctic sea ice, and some hints of cooling in Greenland.", "type": "text"}]},
                    {"role": "assistant", "content": [{"text": "[1.1, 1.5, 2.1]", "type": "text"}]},
                    {"role": "user", "content": [{"text": "By Michael Bastasch, Daily Caller, Aug 11, 2015", "type": "text"}]},
                    {"role": "assistant", "content": [{"text": "[]", "type": "text"}]},
                    {"role": "user", "content": [{"text": "What do you do if you are a global warming alarmist and real-world temperatures do not warm as much as your climate model predicted?", "type": "text"}]},
                    {"role": "assistant", "content": [{"text": "[5.1, 5.2, 5.3]", "type": "text"}]},
                    {"role": "user", "content": [{"text": statement, "type": "text"}]}]

        

        response_object = client.chat.completions.create(model=self.default_model,
        messages=messages,
        max_tokens=self.max_tokens,
        temperature=self.temperature).choices[0].message.content

        print(response_object)
        return response_object
    
    def test_specific_subclaim(self, statement, subclaim):
        subclaim_prompts = {
            1.1: {"system": "Sub-claim: ```1.1 - Ice isn’t melting\n--Antarctica isn’t melting\n--Greenland isn’t melting\n--Arctic isn’t melting\n--Glaciers aren’t vanishing```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "She has seen in the North American trees the feathery but unmistakable signatures of the Medieval Warm Period , a era from 1100 to 1375 A.D. when, according to European writers of the time and other sources, the climate was so balmy that wine grapes flourished in Britain and the Vikings farmed the now-frozen expanse of Greenland; and the Little Ice Age , a stretch of abnormally frigid weather lasting roughly from 1450 to 1850.", "assistant_1": "false", "user_2": "Last winter had the largest sea ice extent in the last six years, the largest North American snow extent on record, and the second largest northern hemisphere snow extent on record. On one day in February, at least 49 US states had snow cover. Northern hemisphere albedo was very high last winter.", "assistant_2": "true", "user_3": "Professor Chris Turney and Dr Richard Jones, both from the Universitys Department of Geography, have reported a comprehensive study of the Last Interglacial, a period of warming some 125,000 years ago, in the latest issue of the Journal of Quaternary Science .", "assistant_3": "false"},
            1.2: {"system": "Sub-claim: ```1.2 - Heading into ice age```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Is the Earth warming? Data does suggest the Earth is warming as we come out of the Little Ice Age.", "assistant_1": "false", "user_2": "Averaging the Dye 3 temperature record using the 22 year length of the Hale Cycle produces a lot of detail. What is evident is that there has been a very disciplined temperature decline over the last four thousand years. The whole temperature record is bounded by two parallel lines with a downslope of 0.3C per thousand years. The fact that no cooling event took the Dye 3 temperature below the lower bounding green line over nearly four thousand years is quite remarkable. It implies that solar events do not exceed a particular combination of frequency and amplitude. From that it can be derived that this particular combination of frequency and amplitude with be ongoing that is that cooling events will happen just as frequently as they did during the Dye 3 record.", "assistant_2": "true", "user_3": "Their work, published in a recent issue of the journal Energy and Environment, suggests that there really was a \"\"Little Ice Age\"\" from 1300 to 1900 when unusually cold global temperatures froze rivers that today remain ice-free year-round. They also found evidence for a medieval warm period from 800 to 1300 when, historical records show, fig trees grew as", "assistant_3": "false"},
            1.3: {"system": "Sub-claim: ```1.3 - Weather is cold```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "It is abundantly clear from Stambaugh et al.'s findings that there is nothing unusual, unnatural or unprecedented about any 20th or 21st century droughts that may have occurred throughout the agricultural heartland of the United States. It is also clear that the much greater droughts of the past millennium occurred during periods of both relative cold and relative warmth, as well as the transitions between them. Thus, to testify that \"\"droughts are becoming longer and more intense,\"\" and to imply that they are doing so because of global warming, is to be doubly disingenuous.", "assistant_1": "false", "user_2": "\"On the news there are plenty of reports of winter storms hitting places all over Europe, into Asia, and even in the Eastern USA. There are some pretty grim cold weather stories.\"", "assistant_2": "true", "user_3": "In the real UK (the one that exists outside the Met Office Supercomputers) the last three summers have all been complete washouts, the last two winters have been bitter cold, and over the last eighty years, summertime temperatures have risen only 0.5C.", "assistant_3": "true"},
            1.4: {"system": "Sub-claim: ```1.4 - Hiatus in warming```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "The divergences shown in brown in Figure 8 are caused when sea surface temperatures of the Rest-of-the-World fail to cool in response to the La Nia. Basically, they dont cool because of the warm water thats left over after the El Nio.", "assistant_1": "false", "user_2": "The slowdown is a bit of a mystery to climate scientists. True, the basic theory that predicts a warming of the planet in response to human emissions does not suggest that warming should be smooth and continuous. To the contrary, in a climate system still dominated by natural variability , there is every reason to think the warming will proceed in fits and starts.", "assistant_2": "true", "user_3": "(2.) A sun-blocking volcanic aerosols component to explain the sudden but temporary cooling of global sea surface temperatures that are caused by catastrophic volcanic eruptions; and,", "assistant_3": "false"},
            1.5: {"system": "Sub-claim: ```1.5 - Oceans are cooling```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Baliunas: The thermometers go back only about 100 years or so over some substantial portion of the Earth. Then we have to rely on other records. . . . For example, growth of tree rings is retarded during cold times usually and then is more advanced during warm times. . . . Glaciers advance and retreat, mountain glaciers, polar glaciers. Coral growth rings tell us about the temperature of the ocean.", "assistant_1": "false", "user_2": "Now, with the Pacific cooling again, temperatures are starting down again. None of this has anything to do with atmospheric carbon dioxide levels. This particular combination of entirely natural ocean conditions is producing a change in the in the entire global weather system. While some who are unfamiliar with ocean influences attribute the Texas drought to global warming, the reality is exactly opposite. It's due to cooling of the Pacific that is causing a mid-level moisture drop. It actually directly contradicts the theory that so-called anthropogenic global warming is leading to drier conditions around the globe.", "assistant_2": "true", "user_3": "The UN just released its summary report on how we should all expect extreme heat in the future. Well forget all that.Its all nonsense coming from unrealistic models that do not even take the cycles of the sun (source of 99.9% of the Earths surface heat) and cycles of the oceans (which cover 70+% of the Earths surface) into account. Garbage in, garbage out. Simple as that.", "assistant_3": "false"},
            1.6: {"system": "Sub-claim: ```1.6 - Sea level rise exaggerated```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Exxon calls these claims preposterous and notes that the company openly shared its research findings in peer-reviewed publications and with the Intergovernmental Panel on Climate Change. The attorneys general also declare that Exxon was deceptive to claim for years that there was no definitive proof of man-caused climate change, even as its business plans took into account oil and gas resources that might be uncovered by melting polar ice caps, and how potential rises in the sea level could affect things like oil rigs. That accusation is a bit like saying a company knew a fire would occur, just because it purchased fire insurance.", "assistant_1": "false", "user_2": "Laccadives Islands (India): \"\"the locals are quite aware of the fact that sea level is not at all in a rising mode today, rather that new land has been added, leaving previous shore to become overgrown and invaded by terrestrial plant climbers (just as in the Maldives).", "assistant_2": "true", "user_3": "In reality sea level changes can be measured accurately only to centimetres, and often only to within several centimetres and very often not even that. Munk (3) confirms this writing that:", "assistant_3": "false"},
            1.7: {"system": "Sub-claim: ```1.7 - Extremes not increasing```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "I live in Brisbane on high ground. Brisbane is flooding and up to 20,000 properties will be under water by tomorrow. Our major dam is at 190% capacity and they had to release 600,000 megalitres yesterday to just keep it at that. 75% of Queensland has been declared a flood disaster area and that is roughly half a million square kilometres. This is not a disaster anywhere near the order of magnitude of the Boxing Day tsunami or the Haiti earthquake. However people have died and more bodies will be found when search and rescue can find them. They have been swept away.", "assistant_1": "false", "user_2": "The programme focuses in on the two Oklahoma tornadoes of May 2013, as an example. They fail to point out though, only one was of the strongest category, an EF-5, of which 59 have occurred since 1953.", "assistant_2": "true", "user_3": "Natural disasters, such as Hurricane Katrina and, in earlier years, hurricanes in Florida and floods along the Mississippi, have made two things clear: Large numbers of individuals facing large risks have not purchased insurance (for one reason or another); and, when disasters happen, there will be a government bailout. (The recognition of this, in turn, provides one of the reasons individuals limit the purchase of insurance; that is, if it is left as a voluntary matter.) There is clearly a role for government ex ante, but ascertaining what that role should be (requiring the provision of private insurance, providing public insurance, etc.) is not so simple if the private sector has strong incentives to overcharge, the public sector has strong incentives to undercharge.", "assistant_3": "false"},
            1.8: {"system": "Sub-claim: ```1.8 - Changed the name from global warming to climate change```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "The logic of this announcement is crazy the US government is already spending billions of taxpayer dollars propping up the struggling car manufacturers in the US, and yet in the name of climate change, Obama kicks them again hard while theyre down", "assistant_1": "false", "user_2": "Out: \"climate change\" (joining its predecessors \"new ice age\" and \"global warming\" on the scrap heap).", "assistant_2": "true", "user_3": "And the fact that \"climate change has sped up sea level rise that was supposed to take centuries has recently been projected as taking just decades,\" he wrote, only complicates his decision to have children.", "assistant_3": "false"},
            2.1: {"system": "Sub-claim: ```2.1 - GHGs are not causing global warming - it’s natural cycles: \n--It’s the sun \n--It’s geological \n--It’s the ocean \n--Past climate change \n--Negligible CO₂ emissions```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "\"That a warmer, drier climate will spawn more frequent forest fires and fires of longer duration is almost a tautology. Nonetheless, some studies find no changein global fire activity over the past century and more. Ocean cycles and forestry practices also influence the frequency and extent of wildfires. Whether recent U.S. wildfires areprimarily due to global climate changeor other factors is neither obviousnor easily determined .\"", "assistant_1": "false", "user_2": "Clearly, the weight of real-world evidence continues to suggest that it is the recurrent millennial-scale cycling of earths mean global air temperature that has been responsible for the bulk of the warming of the 20th century, which could yet continue its upward course, level out, or begin a slow decline; for this phenomenon has created such warmings and subsequent coolings time and time again without any help from mankind. And if its done so before innumerable times, in fact it can do it again. In fact, it has actually got to be expected that it would do so, and at about this point in earths history.", "assistant_2": "true", "user_3": "Climate scientists have been baffled by the 17-year pause in global warming. At least eight explanations have been offered to explain the lapse in warming, including declining solar activity and natural climate cycles.", "assistant_3": "true"},
            2.2: {"system": "Sub-claim: ```2.2 No evidence for Greenhouse Effect:\n--CO₂ is a trace gas \n--Greenhouse Effect is saturated \n--CO₂ lags climate \n--Water vapour \n--Tropospheric hot spot \n--CO₂ was higher in the past \n--Non-Greenhouse Gas forcings```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Some of the areas where organisms would need to relocate the fastest are important biodiversity hot spots, such as the coral triangle region in southeastern Asia, says lead author Mike Burrows of the Scottish Association of Marine Science.", "assistant_1": "false", "user_2": "Discussion does not mention the lag between historical rises in temperature and increases in CO2 and gives the impression that CO2 changes were the cause of the rises in temperature as determined from ice core data. This omission like many others, strongly slants the discussion towards CO2 induced warming", "assistant_2": "true", "user_3": "Entitled The extra-tropical Northern Hemisphere temperature in the last two millennia: reconstructions of low-frequency variability, by B Christiansen of the Danish Meteorological Institute and F C Ljungqvist of Stockholm University, the paper concludes that previous climate reconstructions seriously underestimate variability and trends in the climate record of the past two millennia.", "assistant_3": "false"},
            2.3: {"system": "Sub-claim: ```2.3 - CO₂ not rising```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Note that the survey comprised NINE questions, about global warming, to earth scientists. Only two of the questions have ever been revealed, and the results assessed from those two alone. These two do not consider the magnitude of human influence at all. There is no mention even of CO2. Now what on earth were the other 7 questions about, to earth scientists?- Cooking? Sport? Why is the EOS article so coy?", "assistant_1": "false", "user_2": "As far as his professed fear and trembling over CO2 being higher than any time in recorded history, first, its not true. There were times in the 19th century that atmospheric CO2 was measured at over 400 ppm. And, second, recorded history is a cute way to avoid looking at all the other ways that atmospheric CO2 concentrations are measured for times before recorded history. Again, he either lacks perspective or is deliberately failing to provide it. In the geological time frame, the current amount of atmospheric CO2 is near an all time low, vying with the Carboniferous and Permian Periods for the lowest atmospheric CO2 in over 500 million years. Its decline over the past 150 million years has been almost linear and completely unconnected with any sort of human activity, as was its abrupt increase at the end of the Permian period from about where it is now, just barely enough to sustain life, to over 2500 ppm.", "assistant_2": "true", "user_3": "First, it is difficult to project trends in atmospheric CO2 concentration because the gas is absorbed and released by the ocean, soil and vegetation. Second, it is also difficult to calculate the response of the climate to increased atmospheric CO2 as well as to independently occurring natural climate changes. Current computer simulations of the climate suggest that global warming from increased greenhouse gases may increase the global temperature by somewhere between 0.8 C and 4.5 C by the year 2100, a range too wide to be meaningful.", "assistant_3": "false"},
            2.4: {"system": "Sub-claim: ```2.4 - Emissions not raising CO₂ levels```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "The European Union is leading the charge for verification. Their motive is clear and self-serving. The EU announced last October they are committed to hacking their carbon emissions by a whopping 40 percent by 2030. They've gone all in on climate zaniness, and because EU officials know their carbon reduction policies will likely hike energy prices, kill jobs and stunt economic growth they want to make darn sure others are also intent on slashing and burning their own standards of living as well.", "assistant_1": "false", "user_2": "What's ignored, is that so-called \"emissions\" from factories mostly don't make it into the atmosphere.", "assistant_2": "true", "user_3": "Command-and-control is the most common form of environmental policy, but it has a lot of problems. Principally, central planners can never get enough information to figure out the least-cost way to achieve a target. In the case of CO2 there are so many millions of emission points, and the costs of abatement at each point can be radically different than at other points, so any attempt at centralized micromanagement of emissions will end up being excessively costly. No matter what emissions reduction is eventually achieved it could have been done more cheaply with one of the other methods.", "assistant_3": "false"},
            3.1: {"system": "Sub-claim: ```3.1 Climate impacts are not bad - Sensitivity is low```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "rainfall is sensitive to El Nio variability are identified. This review of,", "assistant_1": "false", "user_2": "But the researchers were surprised when they entered temperatures and other data from the decade 2000-2010 into the model; climate sensitivity was greatly reduced to a mere 1.9C.", "assistant_2": "true", "user_3": "\"The Yamal version that Osborn attacked was shown as a sensitivity analysis in my original Sep 27, 2009 post on Yamal and not cited or promoted or advocated in any subsequent presentation or even blog post. My issue with Briffa-style regional chronologies had been their sensitivity (non-robustness) to inhomogeneity. Under the statistical model necessary for Briffa-style regional standardization, results should not depend on which subpopulation is used. However, this was very much not the case with his influential Yamal chronology. To illustrate the inhomogeneity, I showed three chronology variations (scenarios, if you prefer) in my Sep 27, 2009 blog post: (C) the Yamal-11 only (as in Briffa 2000 and Briffa et al 2008); (B) both the Yamal-11 and Schweingrubers Khadyta River and (A) Schweingrubers Khadyta River only. I described the calculations as a sensitivity study and did not promote or advocate either Scenario A or Scenario B.\"", "assistant_3": "false"},
            3.2: {"system": "Sub-claim: ```3.2 Climate impacts are not bad - No species impact of climate change:\n--Species can adapt \n--Polar bears are ok \n--Oceans are ok```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "We need exploration and innovation in America. We need to tap into energy sources currentlyor in the process of being madeoff limits in America by the Endangered Species Act or by plans to lock up resources under the guise of a national monument. When you think about it, energy makes America greatand we do it in a manner cleaner and safer than anywhere else on the planet.", "assistant_1": "false", "user_2": "Peer-reviewed Study: Arctic and Subarctic Species Benefit from Global Warming", "assistant_2": "true", "user_3": "Lee et al., of course, attributed the long-term and short-term warming of the Pacific Ocean (0-700 meters) to downward longwave radiation (from manmade greenhouse gases). Unfortunately for Lee et al., the data, when broken down into tropical Pacific and extratropical North Pacific subsets, indicate that was not the case. This suggests the simulations of ENSO in the tropical Pacific and the simulations of ocean heat uptake related to variations in sea level pressures and wind patterns in the extratropical North Pacific were both flawed in the model used by Lee et al.", "assistant_3": "false"},
            3.3: {"system": "Sub-claim: ```3.3 Climate impacts are not bad - CO₂ is not a pollutant \n--CO₂ is plant food```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "The very real positive externality of inadvertent atmospheric CO2 enrichment must be considered in all studies examining the SCC; and its observationally-deduced effects must be given premier weighting over the speculative negative externalities presumed to occur in computer model projections of global warming. Until that time, little if any weight should be placed on current SCC calculations.", "assistant_1": "true", "user_2": "given the slow rate at which global atmospheric CO 2 concentration is increasing, it is possible that plants will adapt to elevated ambient CO 2 concentrations over time with respect to mineral nutrition", "assistant_2": "false", "user_3": "When the Dinosaurs roamed, the CO2 content was 6 to 9 times current and the planet was green from pole to pole; almost no deserts. If we doubled the atmospheric content of CO2, young pine trees would grow at twice the rate and nearly every crop yield would go up 30 to 40%. We, the animals and all land plant life would be healthier if CO2 content were to increase.", "assistant_3": "true"},
            3.4: {"system": "Sub-claim: ```3.4 Climate impacts are not bad - Only a few degrees change```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Astrophysicist, Joe Postma - in his momentous paper The Absence of a Measurable Greenhouse Effect - goes on to prove that by treating Earth as a sphere so that night and day exist we can suddenly explain with standard physics how daytime gives us the +30 degrees C worth of added GHE temperature; on average over half of the Earth (reaching a theoretical maximum of up to +121 degrees C under the solar-noon if it was not for the cooling power of the atmosphere).", "assistant_1": "false", "user_2": "In the Assessment's 1200 horror-studded pages, almost everything that happens in our complex world sex, birth, disease, death, hunger, and wars, to name a few is somehow made worse by pernicious emissions of carbon dioxide and the joggling of surface average temperature by a mere two degrees.", "assistant_2": "true", "user_3": "Can you see the issue? When projected back to pre-industrial CO2 levels, these future forecasts imply that we should have seen 2,3,4 or more degrees of warming over the last century, and even the flawed surface temperature records we are discussing with a number of upwards biases and questionable adjustments only shows about 0.6C.\"", "assistant_3": "true"},
            3.5: {"system": "Sub-claim: ```3.5 Climate impacts are not bad - No link to conflict```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Violent conflict increases vulnerability to climate change (medium evidence, high agreement). Large-scale violent conflict harms assets that facilitate adaptation, including infrastructure, institutions, natural resources, social capital, and livelihood opportunities.", "assistant_1": "false", "user_2": "Climate variability or climate change are popularly reported to be significant causes of the mass killing in the Darfur region that began in 2003 All studies of this conflict agree that it is not possible to isolate any of these specific causes as being most influential . Most authors identify government practices as being far more influential drivers than climate variability noting also that similar changes in climate did not stimulate conflicts of the same magnitude in neighboring regions", "assistant_2": "true", "user_3": "The Western-inspired international legal order is today under assault at the UN; at the same time, an obsolete Law of Armed Conflict is preventing the West from defending itself on the ground. As a military organization, NATO should today articulate a \"\"Counter-Lawfare\"\" doctrine for the sake of intellectual interoperability. As a security organization, NATO should not wait until it has become a full-fledged UN of Democracies to start elaborating a New Law of Armed Conflict adapted to the realities of post-modern warfare.38 Last but not least, the Alliance should take strategic communication more seriously and make better use of the NATO Parliamentary Assembly (information) and the NATO Defense College (education).", "assistant_3": "false"},
            3.6: {"system": "Sub-claim: ```3.6 Climate impacts are not bad - Only positive health impacts```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "A NAAQS is an allowable pollution concentration standard. It determines how many parts per million(or billion) of a targeted pollutant are permissible in the ambient air. Petitioners in Mass v. EPA asserted that current GHG levels already harm public health and welfare. Similarly, a spate of endangerment petitions filed since Mass v. EPA (to regulate GHG emissions from aircraft, marine vessels, off-road engines, etc.) assert that GHG emissions already harm public health and welfare. These allegations raise an obvious policy questionwhat kinds of measures would be required to lower GHG concentrations below current levels?", "assistant_1": "false", "user_2": "More evidence if any were needed that cold winters endanger public health and welfare. Tomatoes are a great source of anti-oxidents and other health-enhancing nutrients. And they are delish!", "assistant_2": "true", "user_3": "The density, scalability, and portability of oil, gas, and coal make them affordable, reliable, and flexible for average consumers,?? my article concluded. ???Wind turbines and solar panels, contrarily, are expensive, intermittent, and inflexibleand have their own set of health and safety issues.??", "assistant_3": "false"},
            3.7: {"system": "Sub-claim: ```3.7 Climate impacts are not bad - Only positive economic impacts```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "However, because they were designed to process heavier crude oils, refineries are limited in how much domestic sweet crude they can handle. Exports would provide an important outlet for excess crude supplies. That in turn would encourage additional exploration and production, protecting jobs, further revitalizing our economy, and multiplying royalty and tax revenues.", "assistant_1": "false", "user_2": "Another impediment to fossil fuel development is the Environmental Protection Agency's designation of carbon dioxide as a pollutant a designation that should be abolished. Carbon dioxide is an airborne fertilizer that increased plant growth over the past 50 years. A recent report shows that the social benefits of carbon dioxide, for agriculture alone, are estimated at $3.2 trillion from 1960 to 2012 and $7.9 trillion from 2012 to 2050.", "assistant_2": "true", "user_3": "Open access, however, is not only good for domestic markets. It includes empowering energy enterprises to capture opportunities abroad. Borders should not dictate whether or not an individual can sell a product. Nor should borders result in individuals paying artificially higher prices for goods in the form of tariffs. Yet laws can restrict opportunities, whether prohibitions on exporting crude oil or tariffs on solar technology. Freely importing and exporting energy and energy technologies would yield tremendous economic benefits, providing Americans with more opportunities to sell products to more customers and to buy cheaper goods and services from abroad.", "assistant_3": "false"},
            4.1: {"system": "Sub-claim: ```4.1 - Climate policies are harmful: \n--Policy increases costs \n--Policy weakens security \n--Policy harms environment \n--Policy creates uncertainty \n--Policy limits freedom```\n\nYou are a classifier who identifies discourses of climate action delay. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "ExxonMobil took a different course. In 2005, then-CEO Lee Raymond, said: \"What all these people are thinking about doing, we did 20 years agoand spent $1 billion, in dollars of that day, to find out that none of these were economic.\"In the late 1970s, as oil prices skyrocketed, Exxon diversified into an array of fossil-fuel alternatives, including nuclear and solar energy.\" \"After several years, Exxon still couldn't see prospects for renewable energy turning into a moneymaker, especially since oil prices were falling in the 1980s. In the mid-1980s, the company decided to get out of the business.", "assistant_1": "false", "user_2": "US energy policy is behind much of the price increase, the Obama administration seems intent on doing everything possible to prevent domestic drilling for oil. Last week the EPA blocked Shell from exploiting reserves off the Alaskan coast. Last year the administration imposed a Gulf moratorium on offshore drilling in the wake of the rig disaster.", "assistant_2": "true", "user_3": "Climate researchers do not know nearly as much about the causes of climate change as they profess. We have a pretty good understanding of how the climate system works on average?but the reasons for small, long-term changes in climate system are still extremely uncertain.", "assistant_3": "false"},
            4.2: {"system": "Sub-claim: ```4.2 - Climate policies are ineffective \n--Green economy won’t work \n--Policy impact is negligible \n--One country is negligible \n--Other countries’ emissions \n--Existing policies don’t work \n--Policy can be manipulated```\n\nYou are a classifier who identifies discourses of climate action delay. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "The shale revolution has changed the energy scenario in the United States from a situation of shortage to that of plenty. The worlds biggest energy consumer may soon become the largest producer of hydrocarbons. The US gas boom is already impacting global energy relations. The impact will be felt even more keenly when it starts exporting gas- the first LNG exports are expected to start around 2017. Exporting gas to friendly countries in Europe, as well as India and China is being seen as a new way of extending the US sphere of influence, and cutting the dominance of the middle-east and Russia. Shale has begun replacing oil as the agent of the new great game.", "assistant_1": "false", "user_2": "What a different nation America could be were it not for Obama's deliberate attack on the coal industry in particular and other fossil fuels, oil and natural gas. In the name of reducing emissions, Obama deliberately ignores the increasing use of coal in Europe and nations that include China, Japan, and India.", "assistant_2": "true", "user_3": "Rather than expand government, public policy should end preferential subsidies for politically favored energies, depoliticize access to public-land resources, and privatize such assets as the Strategic Petroleum Reserve. Multi-billion-dollar energy programs at the U.S. Department of Energy can be eliminated. Such policy reform can simultaneously increase energy supply, improve energy security, reduce energy costs, and increase the size of the private sector relative to the public sector.", "assistant_3": "false"},
            4.3: {"system": "Sub-claim: ```4.3 Mitigation policies are unnecessarily secondary: \n--Markets are more efficient \n--Individuals are responsible \n--Future generations will fix it \n--Technology will fix it \n--Other issues are more pressing \n--Cheaper to mitigate abroad```\n\nYou are a classifier who identifies discourses of climate action delay. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Well, apparently President Obama's definition of \"\"clean coal\"\" is no coal. In his 2013 budget request, the President cut funding for coal research and development at the National Energy Technology Laboratory (NETL) by nearly 30 percent. This is at the same time EPA has proposed greenhouse gas standards for coal-fired power plants that require Carbon Capture and Sequestration (CCS) a technology that is not ready to operate on a commercial scale. So on the one hand we have Obama issuing standards in which utilities can't comply without using CCS. On the other, we have him handicapping that very technology.", "assistant_1": "false", "user_2": "Some critics have questioned the rationale for spending research money on an electric car in a poor agrarian country with an ailing public healthcare system, and where electricity outages are the norm. One cartoon showed the Kiira being pushed by two men apparently because there was no electricity to charge it.", "assistant_2": "true", "user_3": "Skeptics warned Tuesday the rule will kill domestic coal use, increase energy prices and force businesses to move abroad.", "assistant_3": "false"},
            4.4: {"system": "Sub-claim: ```4.4 Climate policy is too difficult \n--We’re not ready for policy \n--It’s too hard to solve \n--It’s too late to fix it \n--Low public & media support```\n\nYou are a classifier who identifies discourses of climate action delay. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "I'm not sure whether this is a particularly productive discussion as regards the climate debate. If a computer simulation is to be policy-relevant its output must be capable of being an approximation to the real world, and must be validated to show that this is the case. If climate modellers want to make the case that their virtual worlds are neither hypothesis nor experiment, or to use them to address otherwise intractable questions, as Schmidt and Sherwood note happens, then that's fine so long as climate models remain firmly under lock and key in the ivory tower.", "assistant_1": "false", "user_2": "As a result of diminishing public support in the U.S., the revelation of extreme Green-energy crony-corruption, tightening budgets, and a slow economic recovery, government support for renewable energy is under fire. Why bother?", "assistant_2": "true", "user_3": "Scary warnings from climatologists. Take heed. Take action quickly before it is too late.", "assistant_3": "false"},
            4.5: {"system": "Sub-claim: ```4.5 Climate-friendly alternatives won’t work \n--Alternatives are harmful \n--Alternatives are ineffective```\n\nYou are a classifier who identifies discourses of climate action delay. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Large Number Of Dead Whales Wash Up. Offshore Windpark Construction Likely The Cause", "assistant_1": "true", "user_2": "1. We have shown that the Parker Nature study entitled Large-scale warming is not urban has serious issues on its conclusions, as well as demonstrated that an unrecognized until now warm bias occurs in nighttime minimum temperatures ( see Pielke Sr., R.A., and T. Matsui, 2005: Should light wind and windy nights have the same", "assistant_2": "false", "user_3": "With respect to the proposed expansion of renewable energy production: wind and solar power receive subsidies per kilowatt-hour vastly larger than those purportedly received by conventional generation, and it remains the case that renewables simply are uncompetitive, in substantial part because the energy content of wind and sunlight is too diffused to be useful without massive capital investment. For a discussion of the economics of renewable power and the weakness of the arguments in support of policies subsidizing it, see this AEI report.", "assistant_3": "true"},
            4.6: {"system": "Sub-claim: ```4.6 We need fossil fuels \n--Fossil fuel reserves are plentiful \n--Fossil fuels are good \n--Fossil fuels are necessary \n--We have the right to use them```\n\nYou are a classifier who identifies discourses of climate action delay. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Carbon capture and storage (CCS) is designed to catch CO2 from gas and coal-fired power stations before it is released into the atmosphere. The CO2 is liquefied and poured into disused oil wells in the North Sea via existing pipelines.", "assistant_1": "false", "user_2": "Over the past three decades, fossil fuels enabled 1.3 billion people to escape debilitating energy poverty over 830 million thanks to coal alone and China connected 99% of its population to the grid and increased its steel production eight times over, again mostly with coal. However, 1.3 billion people are still desperate for electricity and modern living standards. In India alone, over 300 million people (the population of the entire United States) remain deprived of electricity.", "assistant_2": "true", "user_3": "This isn't the first time that NOAA has used dubious data to justify global warming alarmism. In early June, NOAA rewrote the historical climate record by making it \"cooler\" so the present appears warmer. Even climate scientists who believe that man is primarily responsible for the planet warming less than one degree Celsius over the last 100 years rejected NOAA's readjustments to hide the 18-year-and-counting global warming hiatus.", "assistant_3": "false"},
            4.7: {"system": "Sub-claim: ```4.7 No need for more climate action \n--Already taking it seriously \n--Already doing enough \n--Already doing good```\n\nYou are a classifier who identifies discourses of climate action delay. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Despite having a Democrat-controlled Congress in his first two years, President Obama failed to push through cap-and-trade legislation that would have adopted a goal of reducing carbon dioxide and other greenhouse gas emissions to 83 percent below 2005 levels by the year 2050. The reason for this failure was clear: The proposed law would greatly harm the U.S. economy and undermine job growth. Indeed, The Heritage Foundation's Center for Data Analysis estimated that the cap-and-trade bill proposed by Senators Barbara Boxer (DCA) and newly nominated Secretary of State John Kerry (DMA) would have resulted in income losses of nearly $10 trillion and over 2.5 million lost jobs.", "assistant_1": "false", "user_2": "The EPAs standards already consider harmful air pollutants and protect the climate. Further action would be overkill, and smother small businesses around the country.", "assistant_2": "true", "user_3": "The only way to defeat this position in the eyes of people who regard it as a U.S. duty to set a good example to the world is to demonstrate the futility of trying to control Earth's climate. Accusations that the president wants to ruin the economy, destroy jobs or risk the nation's energy security have little traction, since most opinion leaders do not believe these charges. Most of those who recognize the enormous costs of the EPA's plans regard these sacrifices as necessary in order to be responsible environmental stewards.", "assistant_3": "false"},
            5.1: {"system": "Sub-claim: ```5.1 Science is unreliable \n--No consensus \n--Data/proxies are unreliable \n--Temperature is unreliable \n--Models are unreliable```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "The true global average temperature is that measured from outer space, and this has a value of -18 degrees C. We do not actually know what the average surface temperature is because we simply dont have thermometers placed on the actual ground surface. If we did, climate science would see the Sun heating the surface to very high temperature, as we did in that linked paper above, and then they would have to abandon the flux-averaged models that create a greenhouse effect because they assume that the Sunshine is too cold to heat the ground by itself.", "assistant_1": "true", "user_2": "We used the HEM to analyze the economic effects of instituting the BoxerSanders proposal. HEM is appropriate for this analysis, as similar models have been used in the past to understand the economic effects of other carbon tax proposals. In particular, we conducted simulations running a carbon fee that started in 2014 at $20 (in 2013 dollars) and increased by 5.6 percent per year and compared this against a baseline model without any carbon tax. We chose a revenue-neutral carbon tax where 100 percent of the carbon tax revenues are returned directly to taxpayers. We ran the HEM for 12 cycles to get consistent feedback into the Macroeconomic Activity Module, which provided us with the figures presented in this study.", "assistant_2": "false", "user_3": "And of course, government climate policies are all based on such unvalidated climate modelswhich have already been proven wrong. Yet the latest UN-IPCC report of Sept 2013 claims to be 95% certain about DAGW! Aware of the actual temperature data, how can they claim this and keep a straight face?", "assistant_3": "true"},
            5.2: {"system": "Sub-claim: ```5.2 Movement is unreliable \n--Climate is religion \n--Media is alarmist \n--Politicians are biased \n--Environmentalists are biased \n--Scientists are biased```\n\nYou are a classifier who identifies discourses of climate denial. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Add to that the fact that more than 2/3rds of the worlds stations (most rural) have dropped out and or are often missing monthly data, 69% of the first nearly 600 US stations evaluated by Anthony Watts surface stations.org are poor or very poorly sited with only 4% meeting official standards and no changes were made for the known biases of new instrumentation.", "assistant_1": "false", "user_2": "Climate science has transformed itself from a research backwater a few decades ago into one of the greatest public-good scientific cash cows ever devised. In Australia, for instance, there is a separate federal Department of Climate Change and Energy Efficiency specifically devoted to implementing (buying?) the social change required to limit global warming. The livelihood of many of the climate scientists within the CSIRO and elsewhere is now dependent on grants from that department. It is not a situation conducive to sceptical outlook and balanced advice. When a tendency toward postmodern science is mixed with a single, generous and undoubtedly biased source of money, it is not surprising that things can go very wrong very quickly.", "assistant_2": "true", "user_3": "First, the computer climate models on which predictions of rapid warming from enhanced atmospheric greenhouse gas concentration are based \"\"run hot,\"\" simulating two to three times the warming actually observed over relevant periodsduring which non-anthropogenic causes probably accounted for some and could have accounted for all the observed warmingand therefore provide no rational basis for predicting future GAT.", "assistant_3": "false"},
            5.3: {"system": "Sub-claim: ```5.3 Climate change is conspiracy \n--Climate policy is conspiracy \n--Climate science is conspiracy```\n\nYou are a classifier who identifies discourses of climate action delay. You will be shown a statement and must identify if the statement is of the provided Sub-claim. If the claim is of the Sub-claim, you should respond \"true\". If not, you should respond \"false\". It is very important that you only respond with \"true\" or \"false\" depending on the statement and sub-claim.", "user_1": "Climate Conspiracy Written by Peter Wood and Ashley Thorne,", "assistant_1": "false", "user_2": "The fact that there was dissent within the climate science teams, that some people objected to the very basis of the grand claims of global warming, did not come out through the due process. It came to light when emails at the Climate Research Centre at East Anglia were hacked in November 2009. It is from the hacked conversations that a pattern of conspiracy and deceit emerge. It is a peek into the world of global warming scaremongeringamplify the impact of CO2, stick to dramatic timelines on destruction of forests, and never ask for a referral or raise a contrary point. You were either a believer in a hotter world or not welcome in this \"scientific fold'.", "assistant_2": "true", "user_3": "For each Conspiracy Theory point, there is a Rational Alternative. Take the coroner who is, er, quirky. Evidence of bad acting? Or just that folks who spend their lives getting a medical degree so they can then cut up dead bodies all day are, well, a little Quirky (or even more than a little) Were the web pages with creation dates same day due to friends doing what they knew how to do as soon as they heard (rather than shadowy actions of non-grieving non-parents), and were web pages set up the day before, perhaps just a mis-set clock on the server, or even just an artifact of another time zone? (Unlikely since they are so close to GMT, so much of the world is running later, not earlier).", "assistant_3": "false"}
        }

        client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))
        
        messages = [{"role": "system", "content": [{"text": subclaim_prompts[subclaim]["system"], "type": "text"}]},
                    {"role": "user", "content": [{"text": subclaim_prompts[subclaim]["user_1"], "type": "text"}]},
                    {"role": "assistant", "content": [{"text": subclaim_prompts[subclaim]["assistant_1"], "type": "text"}]},
                    {"role": "user", "content": [{"text": subclaim_prompts[subclaim]["user_2"], "type": "text"}]},
                    {"role": "assistant", "content": [{"text": subclaim_prompts[subclaim]["assistant_2"], "type": "text"}]},
                    {"role": "user", "content": [{"text": subclaim_prompts[subclaim]["user_3"], "type": "text"}]},
                    {"role": "assistant", "content": [{"text": subclaim_prompts[subclaim]["assistant_3"], "type": "text"}]},
                    {"role": "user", "content": [{"text": statement, "type": "text"}]}]
        


        response_object = client.chat.completions.create(model=self.default_model,
        messages=messages,
        max_tokens=self.max_tokens,
        temperature=self.temperature).choices[0].message.content

        return response_object




